# Smart MCP Server Utilization Guide

Practical guide for effective utilization of Claude Code's MCP servers

## üéØ Core MCP Servers

### Smart Detection-Based MCP Utilization

**Keyword-Based Auto Review**:
- **Documentation/Library Questions** ‚Üí Context7 priority review
- **Complex Analysis/Planning** ‚Üí Sequential consideration  
- **Browser/Testing Tasks** ‚Üí Playwright review
- **General Coding** ‚Üí Standard tools processing

### Context7: Documentation & Library Search
**Use Case**: API references, library documentation, framework information
**Trigger Keywords**: "docs", "API", "library", "framework", "version", "examples"
**Practical Usage**:
- "Find React 18 new features" ‚Üí Context7 consideration
- "TypeScript type definition methods" ‚Üí Context7 priority review

### Sequential: Complex Analysis & Step-by-Step Thinking
**Use Case**: Analysis, planning, strategy development
**Trigger Keywords**: "analyze", "step-by-step", "plan", "strategy", "architecture"
**Practical Usage**:
- "Analyze this error step by step" ‚Üí Sequential consideration
- "Microservice design strategy" ‚Üí Sequential utilization review

### Playwright: Browser Automation & Testing
**Use Case**: E2E testing, browser automation tasks
**Trigger Keywords**: "test", "E2E", "browser", "screenshot", "automation"
**Practical Usage**:
- "E2E test for login flow" ‚Üí Playwright review
- "Screenshot this page" ‚Üí Playwright utilization

## üß† Smart Routing Logic

### Automatic Detection Pattern
```
Question/Request ‚Üí Keyword Analysis ‚Üí MCP Server Review ‚Üí Optimal Tool Selection
```

### Practical Decision Criteria
- **Documentation/Library Questions** ‚Üí Context7 priority review
- **Complex Analysis/Planning** ‚Üí Sequential consideration  
- **Browser/Testing Tasks** ‚Üí Playwright review
- **General Coding** ‚Üí Standard tools processing

### Multi-Server Coordination
When complex tasks require multiple capabilities:
- **Research + Analysis**: Context7 + Sequential combination
- **Analysis + Testing**: Sequential + Playwright coordination
- **Documentation + Implementation**: Context7 + standard tools

## üéõÔ∏è User Control Options

### Explicit MCP Server Requests
```bash
"Find React documentation using Context7"
"Analyze this problem with Sequential server"  
"Create E2E test using Playwright"
```

### Direct Processing Requests
```bash
"Handle without MCP servers"
"Use standard mode"
"Process directly without external tools"
```

### Context-Aware Examples
```bash
"React component performance analysis"
‚Üí Context7(React best practices) + Sequential(performance analysis) review
‚Üí Task delegation decision based on complexity

"Nix flake configuration issue"  
‚Üí nix-system-expert priority (specialized domain)
‚Üí Sequential for complex troubleshooting if needed

"Authentication system security review"
‚Üí security-auditor priority + Context7(security patterns) consideration
```

## Integration with Task Delegation

### MCP-Aware Routing Priority
1. **MCP Server Suitability Check** (keyword-based)
2. **Task Delegation Assessment** (complexity-based)
3. **Optimal Tool Combination Selection** (efficiency-based)

### Practical Workflow
```
"Analyze React performance"
‚Üí Check Context7 (React patterns) + Sequential (analysis) suitability
‚Üí Assess complexity for Task delegation
‚Üí Select optimal approach
```

## Best Practices

### Effective MCP Utilization
- **Keyword Awareness**: Use trigger keywords naturally in requests
- **Clear Intent**: Specify what type of help needed (docs, analysis, testing)
- **Context Provision**: Include relevant project/framework information
- **Iterative Approach**: Start with MCP guidance, then refine with feedback

### Common Usage Patterns
```bash
# Documentation Research
"Find Next.js 14 routing examples" ‚Üí Context7 utilization

# Complex Problem Solving  
"Analyze authentication flow bottleneck" ‚Üí Sequential consideration

# Testing Strategy
"E2E test strategy for checkout process" ‚Üí Playwright review

# Multi-Domain Tasks
"React performance optimization approach" ‚Üí Context7 + Sequential coordination
```

### Fallback Strategy
- **MCP Server Unavailable**: Graceful fallback to standard tools
- **Context7 Alternative**: WebSearch for documentation needs
- **Sequential Alternative**: Basic step-by-step manual analysis  
- **Playwright Alternative**: Manual test strategy guidance
