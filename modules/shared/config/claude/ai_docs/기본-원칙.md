# AI 작업 기본 원칙

## 핵심 원칙

### 1. 점진적 개선 우선 (Incremental Improvement First)
- **기존 시스템 분석 우선**: 변경하기 전에 반드시 현재 구조와 패턴 이해
- **최소 변경 원칙**: 목표 달성을 위한 최소한의 변경만 수행
- **기존 아키텍처 보존**: 설정된 패턴과 명명 규칙 유지
- **하위 호환성 보장**: 기존 기능이나 워크플로우 파괴 금지

### 2. 컨텍스트 보존 의무 (Context Preservation Mandate)
- **히스토리 분석**: 작업 전 최근 커밋 10개 이상 분석
- **컨벤션 발견**: 기존 파일 구조와 네이밍 패턴 파악
- **패턴 매칭**: 유사한 기능의 구현 방식 참조
- **브레이킹 체인지 방지**: 기존 설정이나 스크립트 파괴 금지

### 3. 명시적 승인 프로토콜 (Explicit Approval Protocol)
- **계획 제시**: 구현 전 상세한 작업 계획 제시
- **승인 대기**: jito의 명시적 승인 후 구현 시작
- **단계별 보고**: 각 단계 완료 후 상태 보고
- **예외 상황 보고**: 계획과 다른 상황 발생 시 즉시 보고

### 4. 테스트 우선 개발 (Test-First Development)
- **TDD 의무**: 모든 기능 구현 시 테스트 우선 작성
- **3단계 테스트**: 단위 테스트, 통합 테스트, E2E 테스트 모두 필수
- **테스트 통과 확인**: 모든 테스트 통과 후 커밋
- **회귀 테스트**: 기존 기능 영향 없음 확인

## 작업 수행 절차

### Phase 1: 컨텍스트 분석
```bash
# 1. 최근 커밋 히스토리 확인
git log --oneline -10

# 2. 관련 파일 변경 이력 확인
git log --follow -p <파일경로>

# 3. 유사한 패턴 검색
grep -r "similar_pattern" . --include="*.extension"
```

### Phase 2: 계획 수립
- **목표 명확화**: 달성하고자 하는 구체적 목표 정의
- **영향 분석**: 변경이 다른 부분에 미치는 영향 분석
- **위험 요소 식별**: 잠재적 문제점 미리 파악
- **롤백 계획**: 문제 발생 시 되돌리는 방법 준비

### Phase 3: 승인 요청
- **상세 계획서 제시**: 작업 단계별 상세 계획 제시
- **예상 소요 시간**: 각 단계별 예상 시간 명시
- **위험 요소 공유**: 파악된 위험 요소 공유
- **승인 대기**: 명시적 승인 신호 대기

### Step 4: 구현 및 검증
- **단계별 구현**: 계획된 단계 순서대로 구현
- **중간 검증**: 각 단계 완료 후 동작 확인
- **테스트 실행**: 모든 테스트 통과 확인
- **문서 업데이트**: 변경 사항 문서에 반영

## 금지사항

### 절대 금지
- **무단 전체 재작성**: 기존 구현 완전 교체 금지
- **컨벤션 무시**: 기존 네이밍이나 구조 패턴 무시 금지
- **테스트 생략**: 어떤 상황에서도 테스트 생략 금지
- **주석 임의 삭제**: 기존 주석 삭제 금지

### 주의사항
- **Mock 모드 금지**: 실제 데이터와 API만 사용
- **임시 네이밍 금지**: 버전 번호나 상태 표시 네이밍 금지
- **권한 명령 주의**: sudo 필요 명령 실행 전 제약사항 확인
- **시스템 레벨 주의**: 시스템 설정 변경 시 영향 범위 사전 확인

## 에러 처리

### 에러 발생 시 대응
1. **즉시 중단**: 예상치 못한 에러 발생 시 작업 중단
2. **상태 보고**: 현재 상태와 에러 내용 상세 보고
3. **롤백 검토**: 이전 상태로 복원 가능성 검토
4. **지원 요청**: 해결 방법 불분명 시 jito에게 지원 요청

### 권한 문제 대응
1. **제약사항 확인**: Claude Code 환경 제약사항 확인
2. **대안 방법 모색**: 권한 없이 가능한 대안 방법 찾기
3. **가이드 제공**: 사용자 수동 실행 가이드 제공
4. **근본 원인 분석**: 권한 문제의 근본 원인 분석

---

*이 원칙들은 프로젝트의 안정성과 일관성을 보장하기 위한 필수 지침입니다.*
