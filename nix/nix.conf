# Nix Build Performance Configuration
# Optimized for Apple M2 (8 cores, 16GB RAM)

# Core build settings
cores = 8
max-jobs = 4
keep-outputs = true
keep-derivations = true

# Sandbox and security
sandbox = true
require-sigs = true

# Build optimization
builders-use-substitutes = true
substitute = true
auto-optimise-store = true

# Cache and substituters - 확장된 캐시 서버 목록
substituters = https://cache.nixos.org/ https://nix-community.cachix.org https://cuda-maintainers.cachix.org https://devenv.cachix.org https://pre-commit-hooks.cachix.org https://numtide.cachix.org
trusted-public-keys = cache.nixos.org-1:6NCHdD59X431o0gWypbMrAURkbJ16ZPMQFGspcDShjY= nix-community.cachix.org-1:mB9FSh9qf2dCimDSUo8Zy7bkq5CX+/rkCWyvRCYg3Fs= cuda-maintainers.cachix.org-1:0dq3bujKpuEPiCgKpvNhFE8gvXv6bZg6RzjWUYqZFFI= devenv.cachix.org-1:w1cLUi8dv3hnoSPGAuibQv+f9TZLr6cv/Hm9XgU50cw= pre-commit-hooks.cachix.org-1:Pkk3Panw5AW24TOv6kz3PvLhlH8puAsJTBbOPmBo7Rc= numtide.cachix.org-1:2ps1kLBUWjxIneOy2Oa9+LG8+NJf2XRAYsGGHghiZZ0=

# Performance tuning
connect-timeout = 5
log-lines = 25
warn-dirty = false
pure-eval = false

# Experimental features for better performance
experimental-features = nix-command flakes

# Build log verbosity (removed - verbosity is deprecated)
