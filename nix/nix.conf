# Nix Build Performance Configuration
# Optimized for Apple M2 (8 cores, 16GB RAM)

# Core build settings
cores = 8
max-jobs = 4
keep-outputs = true
keep-derivations = true

# Sandbox and security
sandbox = true
require-sigs = true

# Build optimization
builders-use-substitutes = true
substitute = true
auto-optimise-store = true

# Cache and substituters
substituters = https://cache.nixos.org/ https://nix-community.cachix.org
trusted-public-keys = cache.nixos.org-1:6NCHdD59X431o0gWypbMrAURkbJ16ZPMQFGspcDShjY= nix-community.cachix.org-1:mB9FSh9qf2dCimDSUo8Zy7bkq5CX+/rkCWyvRCYg3Fs=

# Performance tuning
connect-timeout = 5
log-lines = 25
warn-dirty = false
pure-eval = false

# Experimental features for better performance
experimental-features = nix-command flakes

# Build log verbosity (removed - verbosity is deprecated)
