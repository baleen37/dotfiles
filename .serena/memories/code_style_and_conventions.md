# 코드 스타일 및 규칙

## Nix 스타일

- **모듈화**: 기능별로 명확히 분리된 모듈 구조
- **플랫폼 분리**: `modules/shared/`, `modules/darwin/`, `modules/nixos/`로 구분
- **재사용 가능성**: `lib/` 디렉토리의 유틸리티 함수 활용
- **설정 외부화**: `config/` 디렉토리의 YAML 파일로 설정 관리

## 파일 구조 규칙

- **ABOUTME 주석**: 모든 코드 파일은 2줄 주석으로 시작 (`ABOUTME: ...`)
- **기능별 분리**: 각 모듈은 단일 책임 원칙을 따름
- **플랫폼 호환성**: 크로스 플랫폼 코드는 `shared/`에, 플랫폼별 코드는 해당 디렉토리에

## 설정 관리

- **선언적 설정**: 모든 설정은 Nix로 선언적으로 관리
- **버전 제어**: 모든 설정 변경은 git으로 추적
- **환경 변수 지원**: 설정은 환경 변수로 오버라이드 가능

## 품질 보장

- **Pre-commit hooks**: 코드 품질 자동 검사
- **다계층 테스트**: unit, integration, e2e, performance
- **린트 규칙**: markdownlint, nix 문법 검사, 시크릿 검사

## 명명 규칙

- **파일명**: kebab-case 사용 (`claude-activation.nix`)
- **함수명**: camelCase 또는 kebab-case
- **변수명**: 의미 있는 이름 사용
- **모듈명**: 기능을 명확히 표현하는 이름